<?php
global $product;

$in_favorites = WCFAVORITES()->check_item($product->get_id());
$text = get_option('favorites_category_product_text','В избранные');
?>
<button type="button" data-product_id="<?=$product->get_id()?>" class="favorites ajax_add_to_favorites <?php if($in_favorites) { echo 'added'; } ?>" aria-label="<?=$text?>">
    <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M14.0917 1.24181C13.5925 1.07431 13.0675 1.00014 12.5417 1.00014C11.3833 0.99181 10.2592 1.37514 9.33334 2.08264C9.27058 2.03453 9.19614 1.99108 9.12469 1.94937L9.08334 1.92514C9.05102 1.90543 9.00867 1.87468 8.96164 1.84054L8.96164 1.84053C8.88741 1.78664 8.80152 1.72429 8.72501 1.68348L8.40834 1.54181C8.24167 1.45014 8.06751 1.38348 7.88334 1.32431C7.86667 1.30848 7.84167 1.29098 7.80834 1.27514H7.75917C7.26667 1.10764 6.75834 1.01598 6.23334 1.00014H6.14167C5.90834 1.00014 5.67584 1.01598 5.44167 1.05014H5.34167C5.09167 1.08264 4.84251 1.14098 4.60084 1.22431C1.49167 2.24181 0.38334 5.61681 1.32501 8.56681C1.85834 10.0743 2.71751 11.4418 3.83417 12.566C5.45834 14.1326 7.23417 15.516 9.14167 16.6993L9.35834 16.8335L9.56667 16.7076C11.4675 15.516 13.2333 14.1326 14.8425 12.5743C15.9667 11.4501 16.825 10.0743 17.35 8.56681C18.2758 5.61681 17.1675 2.24181 14.0917 1.24181Z" fill="none"/>
        <path d="M12.5417 1.00014L12.5381 1.50014H12.5417V1.00014ZM14.0917 1.24181L13.9326 1.71585L13.9371 1.71731L14.0917 1.24181ZM9.33334 2.08264L9.02913 2.47945L9.33285 2.7123L9.63693 2.47992L9.33334 2.08264ZM9.12469 1.94937L8.87196 2.38079L8.87262 2.38118L9.12469 1.94937ZM9.08334 1.92514L8.82291 2.35206L8.83061 2.35657L9.08334 1.92514ZM8.96164 1.84054L9.2554 1.43593L9.24731 1.43006L9.23899 1.42451L8.96164 1.84054ZM8.96164 1.84053L8.66788 2.24514L8.67597 2.25101L8.68429 2.25656L8.96164 1.84053ZM8.72501 1.68348L8.9603 1.2423L8.94501 1.23414L8.92919 1.22707L8.72501 1.68348ZM8.40834 1.54181L8.16738 1.97992L8.18539 1.98982L8.20416 1.99822L8.40834 1.54181ZM7.88334 1.32431L7.53897 1.68681L7.62173 1.76543L7.7304 1.80035L7.88334 1.32431ZM7.80834 1.27514L8.02287 0.823504L7.92105 0.775143H7.80834V1.27514ZM7.75917 1.27514L7.59818 1.74851L7.67647 1.77514H7.75917V1.27514ZM6.23334 1.00014L6.24841 0.50037L6.24088 0.500143H6.23334V1.00014ZM5.44167 1.05014V1.55014H5.47796L5.51386 1.5449L5.44167 1.05014ZM5.34167 1.05014V0.550143H5.30931L5.27722 0.554315L5.34167 1.05014ZM4.60084 1.22431L4.75637 1.69957L4.76384 1.697L4.60084 1.22431ZM1.32501 8.56681L0.848685 8.71886L0.851046 8.72625L0.853636 8.73357L1.32501 8.56681ZM3.83417 12.566L3.47936 12.9184L3.48705 12.9258L3.83417 12.566ZM9.14167 16.6993L8.87809 17.1242L8.87844 17.1244L9.14167 16.6993ZM9.35834 16.8335L9.0951 17.2586L9.35509 17.4196L9.61685 17.2615L9.35834 16.8335ZM9.56667 16.7076L9.82522 17.1357L9.83226 17.1313L9.56667 16.7076ZM14.8425 12.5743L15.1904 12.9335L15.1961 12.9279L14.8425 12.5743ZM17.35 8.56681L17.8222 8.73125L17.8247 8.72393L17.8271 8.71653L17.35 8.56681ZM12.5417 1.50014C13.021 1.50014 13.4914 1.56779 13.9326 1.71583L14.2507 0.767786C13.6936 0.580833 13.114 0.500143 12.5417 0.500143V1.50014ZM9.63693 2.47992C10.4766 1.83825 11.4932 1.49261 12.5381 1.50013L12.5453 0.500156C11.2735 0.491006 10.0417 0.912032 9.02975 1.68536L9.63693 2.47992ZM8.87262 2.38118C8.95012 2.42642 8.99593 2.454 9.02913 2.47945L9.63755 1.68584C9.54522 1.61505 9.44216 1.55573 9.37675 1.51755L8.87262 2.38118ZM8.83061 2.35657L8.87196 2.38079L9.37742 1.51794L9.33607 1.49372L8.83061 2.35657ZM8.66788 2.24514C8.70805 2.2743 8.76942 2.31933 8.82296 2.35199L9.34372 1.49829C9.33262 1.49152 9.30929 1.47506 9.2554 1.43593L8.66788 2.24514ZM8.68429 2.25656L8.68429 2.25656L9.23899 1.42451L9.23899 1.42451L8.68429 2.25656ZM8.48971 2.12465C8.52957 2.14591 8.58573 2.1855 8.66788 2.24514L9.2554 1.43593C9.18909 1.38779 9.07348 1.30266 8.9603 1.2423L8.48971 2.12465ZM8.20416 1.99822L8.52082 2.13989L8.92919 1.22707L8.61252 1.0854L8.20416 1.99822ZM7.7304 1.80035C7.89878 1.85444 8.03966 1.90967 8.16738 1.97992L8.6493 1.1037C8.44368 0.990613 8.23623 0.912512 8.03627 0.848273L7.7304 1.80035ZM7.59381 1.72678C7.58992 1.72493 7.58338 1.72151 7.57474 1.71575C7.56643 1.71021 7.55388 1.70098 7.53897 1.68681L8.22771 0.961808C8.16637 0.903535 8.09527 0.857896 8.02287 0.823504L7.59381 1.72678ZM7.75917 1.77514H7.80834V0.775143H7.75917V1.77514ZM6.21827 1.49992C6.69402 1.51426 7.15315 1.59716 7.59818 1.74851L7.92017 0.801771C7.38019 0.618126 6.82266 0.517689 6.24841 0.50037L6.21827 1.49992ZM6.14167 1.50014H6.23334V0.500143H6.14167V1.50014ZM5.51386 1.5449C5.72284 1.51441 5.93117 1.50014 6.14167 1.50014V0.500143C5.88551 0.500143 5.62883 0.517541 5.36948 0.555382L5.51386 1.5449ZM5.34167 1.55014H5.44167V0.550143H5.34167V1.55014ZM4.76384 1.697C4.97352 1.62469 5.18968 1.57411 5.40613 1.54597L5.27722 0.554315C4.99367 0.591176 4.71149 0.657263 4.43784 0.751623L4.76384 1.697ZM1.80133 8.41476C0.918074 5.64776 1.9804 2.60796 4.75635 1.69951L4.44533 0.749109C1.00295 1.87566 -0.151394 5.58586 0.848685 8.71886L1.80133 8.41476ZM4.18891 12.2136C3.12464 11.1422 2.30516 9.83817 1.79638 8.40004L0.853636 8.73357C1.41151 10.3105 2.31038 11.7414 3.47944 12.9183L4.18891 12.2136ZM9.40525 16.2744C7.52804 15.1099 5.78018 13.7484 4.1813 12.2061L3.48705 12.9258C5.1365 14.5169 6.94031 15.9221 8.87809 17.1242L9.40525 16.2744ZM9.62157 16.4084L9.40491 16.2742L8.87844 17.1244L9.0951 17.2586L9.62157 16.4084ZM9.30816 16.2797L9.09983 16.4055L9.61685 17.2615L9.82518 17.1356L9.30816 16.2797ZM14.4947 12.2151C12.9106 13.7491 11.1724 15.1109 9.30109 16.284L9.83226 17.1313C11.7626 15.9211 13.556 14.5162 15.1903 12.9335L14.4947 12.2151ZM16.8778 8.40237C16.3773 9.83966 15.5591 11.1506 14.489 12.2208L15.1961 12.9279C16.3742 11.7497 17.2727 10.309 17.8222 8.73125L16.8778 8.40237ZM13.9371 1.71731C16.6767 2.60801 17.7427 5.64581 16.8729 8.41709L17.8271 8.71653C18.809 5.58781 17.6583 1.87561 14.2463 0.766309L13.9371 1.71731Z" fill="#D5D5D5"/>
    </svg>
</button>